(function(){jQuery.each({getSelection:function(){var b=this.jquery?this[0]:this;return("selectionStart"in b&&function(){var a=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:a,text:b.value.substr(b.selectionStart,a)}}||document.selection&&function(){b.focus();var a=document.selection.createRange();if(a==null)return{start:0,end:b.value.length,length:0};var c=b.createTextRange(),d=c.duplicate();c.moveToBookmark(a.getBookmark());d.setEndPoint("EndToStart",c);return{start:d.text.length, end:d.text.length+a.text.length,length:a.text.length,text:a.text}}||function(){return{start:0,end:b.value.length,length:0}})()},replaceSelection:function(b){var a=this.jquery?this[0]:this,c=b||"";return("selectionStart"in a&&function(){a.value=a.value.substr(0,a.selectionStart)+c+a.value.substr(a.selectionEnd,a.value.length);return this}||document.selection&&function(){a.focus();document.selection.createRange().text=c;return this}||function(){a.value+=c;return this})()},setSelectionRange:function(b, a){$(this).each(function(){if(this.setSelectionRange)this.setSelectionRange(b,a+b);else if(this.createTextRange){var c=this.createTextRange();c.moveStart("character",b);c.moveEnd("character",a-(this.value.length-b));c.select()}});return this}},function(b){jQuery.fn[b]=this})})();